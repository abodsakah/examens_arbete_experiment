<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<link rel="icon" type="image/svg+xml" href="/vite.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta
			name="description"
			content="WebShop - Optimized for fast performance and great user experience"
		/>
		<title>WebShop</title>

		<!-- Critical CSS inlined for fast rendering -->
		<style>
			body {
				font-family: "Arial", sans-serif;
				margin: 0;
				padding: 0;
				background-color: #f8f9fa;
			}

			.page-title {
				font-size: 2.5rem;
				font-weight: bold;
				color: #343a40;
				margin-bottom: 1.5rem;
			}
		</style>

		<!-- Preload critical assets -->
		<link rel="preload" href="/src/main.tsx" as="script" type="module" />
		<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
		<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />

		<!-- Non-critical CSS loaded with preload/onload pattern -->
		<link
			rel="preload"
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			as="style"
			onload="this.onload=null;this.rel='stylesheet'"
		/>
		<noscript
			><link
				rel="stylesheet"
				href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
		/></noscript>

		<link
			rel="preload"
			href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css"
			as="style"
			onload="this.onload=null;this.rel='stylesheet'"
		/>
		<noscript
			><link
				rel="stylesheet"
				href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css"
		/></noscript>

		<link
			rel="preload"
			href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css"
			as="style"
			onload="this.onload=null;this.rel='stylesheet'"
		/>
		<noscript
			><link
				rel="stylesheet"
				href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css"
		/></noscript>

		<link
			rel="preload"
			href="https://cdn.jsdelivr.net/npm/react-datepicker@4.8.0/dist/react-datepicker.css"
			as="style"
			onload="this.onload=null;this.rel='stylesheet'"
		/>
		<noscript
			><link
				rel="stylesheet"
				href="https://cdn.jsdelivr.net/npm/react-datepicker@4.8.0/dist/react-datepicker.css"
		/></noscript>

		<link
			rel="preload"
			href="https://cdn.jsdelivr.net/npm/react-toastify@9.1.1/dist/ReactToastify.min.css"
			as="style"
			onload="this.onload=null;this.rel='stylesheet'"
		/>
		<noscript
			><link
				rel="stylesheet"
				href="https://cdn.jsdelivr.net/npm/react-toastify@9.1.1/dist/ReactToastify.min.css"
		/></noscript>

		<!-- Non-critical JS loaded with defer -->
		<script src="https://code.jquery.com/jquery-3.6.0.min.js" defer></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
			defer
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"
			defer
		></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"
			defer
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"
			defer
		></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"
			defer
		></script>

		<!-- CSS loading helper script -->
		<script>
			// Small script to help with loading stylesheets
			(function () {
				const styleLoaderFallback = function () {
					// Find all preload links and convert them to stylesheets
					const links = document.getElementsByTagName("link");
					for (let i = 0; i < links.length; i++) {
						const link = links[i];
						if (link.rel === "preload" && link.getAttribute("as") === "style") {
							link.rel = "stylesheet";
						}
					}
				};

				// Add the event listener to ensure styles are loaded
				window.addEventListener("load", function () {
					setTimeout(styleLoaderFallback, 2000);
				});
			})();
		</script>
	</head>
	<body>
		<div id="root"></div>
		<script type="module" src="/src/main.tsx"></script>

		<!-- Deferred non-critical script -->
		<script defer>
			console.log("Page loaded - optimized version");

			// Safely add any additional initialization that doesn't block rendering
			document.addEventListener("DOMContentLoaded", function () {
				console.log("DOM fully loaded - optimized version");
			});
		</script>
	</body>
</html>
